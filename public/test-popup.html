<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³Ø­ localStorage - AMG Real Estate</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        .icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 40px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        .status {
            background: #f0f9ff;
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .status.success {
            background: #f0fdf4;
            border-color: #22c55e;
        }
        .status h3 {
            color: #1e40af;
            margin-bottom: 10px;
        }
        .status.success h3 {
            color: #15803d;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: scale(1.05);
        }
        .btn-secondary {
            background: #6b7280;
        }
        .info-box {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: right;
        }
        .info-box h3 {
            color: #92400e;
            margin-bottom: 10px;
        }
        .info-box ol {
            color: #78350f;
            text-align: right;
            padding-right: 20px;
        }
        .info-box li {
            margin: 5px 0;
        }
        .counter {
            font-size: 60px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="icon">ğŸ¯</div>
        <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ (Newsletter Popup)</h1>
        <p class="subtitle">AMG Real Estate</p>

        <div id="status" class="status">
            <h3>â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</h3>
        </div>

        <div id="counter" class="counter"></div>

        <button class="btn" onclick="clearAndReload()">
            ğŸ—‘ï¸ Ù…Ø³Ø­ localStorage ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        </button>

        <button class="btn btn-secondary" onclick="window.location.href='/'">
            ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </button>

        <div class="info-box">
            <h3>ğŸ’¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©:</h3>
            <ol>
                <li>Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ <strong>6 Ø«ÙˆØ§Ù†ÙŠ</strong> (10 Ø«ÙˆØ§Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)</li>
                <li>Ù„Ùˆ Ù‚ÙÙ„Øª Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ù…Ø±Ø©ØŒ Ù…Ø´ Ù‡ÙŠØ¸Ù‡Ø± ØªØ§Ù†ÙŠ (localStorage)</li>
                <li>Ù„Ø¥Ø¸Ù‡Ø§Ø±Ù‡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŒ Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø¨Ø§Ù„Ø£Ø¹Ù„Ù‰</li>
                <li>Ø£Ùˆ Ø§ÙØªØ­ Console (F12) ÙˆØ§ÙƒØªØ¨: <code>localStorage.clear()</code></li>
            </ol>
        </div>
    </div>

    <script>
        let countdown = 6;
        let cleared = false;

        function updateStatus() {
            const statusDiv = document.getElementById('status');
            const counterDiv = document.getElementById('counter');
            
            // Check localStorage
            const isClosed = localStorage.getItem('newsletter_closed');
            
            if (isClosed && !cleared) {
                statusDiv.innerHTML = '<h3>âš ï¸ Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ù…Ø­ÙÙˆØ¸ ÙƒÙ€ "Ù…ØºÙ„Ù‚" ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­</h3><p>Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø¨Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>';
                statusDiv.className = 'status';
                counterDiv.textContent = 'âŒ';
            } else {
                if (countdown > 0) {
                    statusDiv.innerHTML = '<h3>âœ… localStorage Ù†Ø¸ÙŠÙ - Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ø³ÙŠØ¸Ù‡Ø± Ù‚Ø±ÙŠØ¨Ø§Ù‹!</h3>';
                    statusDiv.className = 'status success';
                    counterDiv.textContent = countdown;
                    counterDiv.className = 'counter pulse';
                    countdown--;
                } else {
                    statusDiv.innerHTML = '<h3>ğŸ‰ Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ù…Ù† Ø§Ù„Ù…ÙØªØ±Ø¶ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¸Ø§Ù‡Ø±Ø§Ù‹ Ø§Ù„Ø¢Ù†!</h3><p>Ù„Ùˆ Ù…Ø´ Ø´Ø§ÙŠÙÙ‡ØŒ Ø¬Ø±Ø¨ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©</p>';
                    statusDiv.className = 'status success';
                    counterDiv.textContent = 'ğŸ‰';
                    counterDiv.className = 'counter';
                    clearInterval(timer);
                }
            }
        }

        function clearAndReload() {
            localStorage.clear();
            console.log('âœ… ØªÙ… Ù…Ø³Ø­ localStorage Ø¨Ø§Ù„ÙƒØ§Ù…Ù„');
            alert('âœ… ØªÙ… Ù…Ø³Ø­ localStorage!\nØ³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©...');
            window.location.reload();
        }

        // Initial check
        updateStatus();

        // Update every second
        const timer = setInterval(updateStatus, 1000);

        // Auto clear on load if parameter exists
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('clear') === 'true') {
            localStorage.clear();
            cleared = true;
            console.log('âœ… ØªÙ… Ù…Ø³Ø­ localStorage ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
        }
    </script>
</body>
</html>
