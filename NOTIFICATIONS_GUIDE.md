# ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ - ุฏููู ุงูุชุดุบูู

## โ ูุง ุชู ุชูููุฐู

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุฌุฏูู `notifications` ูุน ุฌููุน ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ
- โ ุนูุงูุงุช ูุน `users` ู `properties`
- โ Indexes ููุฃุฏุงุก ุงูุนุงูู

### 2. Firebase Configuration
- โ Firebase Client (`src/lib/firebase-client.ts`)
- โ Firebase Admin (`src/lib/firebase-admin.ts`)
- โ Service Worker (`public/firebase-messaging-sw.js`)

### 3. Notification System
- โ Helper functions (`src/lib/notifications.ts`)
- โ API Routes:
  - `GET /api/notifications` - ุฌูุจ ุงูุฅุดุนุงุฑุงุช
  - `PATCH /api/notifications/[id]` - ุชุญุฏูุฏ ูููุฑูุก
  - `DELETE /api/notifications/[id]` - ุญุฐู ุฅุดุนุงุฑ
  - `POST /api/notifications/mark-all-read` - ุชุญุฏูุฏ ุงููู ูููุฑูุก
  - `DELETE /api/notifications/clear` - ุญุฐู ุงููู

### 4. UI Components
- โ `NotificationBell` - ุฌุฑุณ ุงูุฅุดุนุงุฑุงุช ูุน Badge
- โ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ูุน ุงูุฅุดุนุงุฑุงุช
- โ ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- โ ูุฏูุฌ ูู Header

### 5. Event Integrations
- โ ุนูุฏ ูุจูู ุนูุงุฑ - ุฅุดุนุงุฑ ูููุณุชุฎุฏู
- โ ุนูุฏ ุฑูุถ ุนูุงุฑ - ุฅุดุนุงุฑ ูุน ุงูุณุจุจ
- โ ุนูุฏ ุฅุถุงูุฉ ุนูุงุฑ - ุฅุดุนุงุฑ ุจุฃูู ููุฏ ุงููุฑุงุฌุนุฉ
- โ ุนูุฏ ุงุณุชูุณุงุฑ ุฌุฏูุฏ - ุฅุดุนุงุฑ ูุตุงุญุจ ุงูุนูุงุฑ

---

## ๐ฅ ุฎุทูุงุช ุชูุนูู Firebase Push Notifications

### ุงููุฑุญูุฉ 1: ุงูุญุตูู ุนูู VAPID Key

1. ุงุฐูุจ ุฅูู Firebase Console: https://console.firebase.google.com/
2. ุงุฎุชุฑ ูุดุฑูุน `amg-real-estate`
3. ุงุฐูุจ ูู **Project Settings** (โ๏ธ) โ **Cloud Messaging**
4. ุงูุฒู ููุณู **Web Push certificates**
5. ุงุถุบุท **Generate key pair**
6. ุงูุณุฎ ุงูู Key ุงูุทููู

### ุงููุฑุญูุฉ 2: ุงูุญุตูู ุนูู Service Account

1. ูู Firebase Console โ **Project Settings**
2. ุงุฐูุจ ูุชุงุจ **Service accounts**
3. ุงุถุบุท **Generate new private key**
4. ุณูุชู ุชูุฒูู ููู `.json`
5. ุงูุชุญ ุงูููู ูุงูุณุฎ:
   - `project_id`
   - `private_key`
   - `client_email`

### ุงููุฑุญูุฉ 3: ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ูู `.env.local`

```env
# VAPID Key (ูู ุงููุฑุญูุฉ 1)
NEXT_PUBLIC_FIREBASE_VAPID_KEY="BH7vFj...ุงูุฎ"

# Service Account (ูู ุงููุฑุญูุฉ 2)
FIREBASE_PROJECT_ID="amg-real-estate"
FIREBASE_CLIENT_EMAIL="firebase-adminsdk-xxxxx@amg-real-estate.iam.gserviceaccount.com"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBg...\n-----END PRIVATE KEY-----\n"
```

**โ๏ธ ููู**: 
- ูุง ุชูุดุฑ ูุฐู ุงููุนูููุงุช ุนูู GitHub
- ุชุฃูุฏ ุฃู `.env.local` ูู `.gitignore`

---

## ๐ฏ ููู ูุนูู ุงููุธุงู

### 1. ุฅุดุนุงุฑุงุช ุฏุงุฎู ุงููููุน (ุชุนูู ุญุงููุงู โ)
- ุงููุณุชุฎุฏู ูุฑู ุฌุฑุณ ุงูุฅุดุนุงุฑุงุช ูู Header
- ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- ูุงุฆูุฉ ููุณุฏูุฉ ุจุขุฎุฑ 20 ุฅุดุนุงุฑ
- ุชุญุฏูุซ ุชููุงุฆู ูู 30 ุซุงููุฉ

### 2. Push Notifications (ุชุญุชุงุฌ ุฅุนุฏุงุฏ)
- ุจุนุฏ ุฅุถุงูุฉ VAPID Key ู Service Account
- ุฅุดุนุงุฑุงุช ุชุตู ุญุชู ูู ุงููููุน ูุบูู
- ุชุนูู ุนูู Chrome, Firefox, Edge
- ุตูุช ูุตูุฑุฉ ูุน ูู ุฅุดุนุงุฑ

---

## ๐ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

| ุงูููุน | ูุชู ููุฑุณู | ุงูุฑุงุจุท |
|------|----------|---------|
| `PROPERTY_APPROVED` | ุนูุฏ ููุงููุฉ ุงูุฃุฏูู | `/listings/{id}` |
| `PROPERTY_REJECTED` | ุนูุฏ ุฑูุถ ุงูุฃุฏูู | `/dashboard/properties` |
| `PROPERTY_PENDING_REVIEW` | ุนูุฏ ุฅุถุงูุฉ ุนูุงุฑ | `/dashboard/properties` |
| `NEW_INQUIRY` | ุนูุฏ ุงุณุชูุณุงุฑ ุนูู ุนูุงุฑ | `/dashboard/inquiries` |
| `PROPERTY_SOLD` | ุนูุฏ ุชุญุฏูุซ ุญุงูุฉ ูู SOLD | `/listings/{id}` |
| `SUBSCRIPTION_EXPIRING` | ูุจู ุงูุชูุงุก ุงูุงุดุชุฑุงู ุจู7 ุฃูุงู | `/dashboard/subscription` |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### 1. ุฅุถุงูุฉ ุตูุญุฉ ุฌููุน ุงูุฅุดุนุงุฑุงุช
```bash
# ุฅูุดุงุก ุตูุญุฉ
src/app/dashboard/notifications/page.tsx
```

### 2. ุฅุถุงูุฉ ุตูุช ุนูุฏ ุงูุฅุดุนุงุฑ ุงูุฌุฏูุฏ
```typescript
// ูู NotificationBell.tsx
const playSound = () => {
  const audio = new Audio('/notification-sound.mp3');
  audio.play();
};
```

### 3. ุฅุดุนุงุฑุงุช ููุฃุฏูู
- ุฅุดุนุงุฑ ุนูุฏ ุฅุถุงูุฉ ุนูุงุฑ ุฌุฏูุฏ
- ุฅุดุนุงุฑ ุนูุฏ ุงุณุชูุณุงุฑ ุฌุฏูุฏ
- ุฅุดุนุงุฑ ุนูุฏ ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ

---

## ๐ง ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุฅุดุนุงุฑุงุช ุฏุงุฎู ุงููููุน
1. ุณุฌู ุฏุฎูู ููุณุชุฎุฏู
2. ุฃุถู ุนูุงุฑ ุฌุฏูุฏ
3. ุณุชุธูุฑ ุฅุดุนุงุฑ "ุนูุงุฑู ููุฏ ุงููุฑุงุฌุนุฉ"
4. ุณุฌู ุฏุฎูู ูุฃุฏูู
5. ูุงูู ุนูู ุงูุนูุงุฑ
6. ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู ููุณุชุฎุฏู
7. ุณุชุฌุฏ ุฅุดุนุงุฑ "ุชู ูุจูู ุนูุงุฑู"

### ุงุฎุชุจุงุฑ Push Notifications (ุจุนุฏ ุงูุฅุนุฏุงุฏ)
1. ุงูุชุญ ุงููููุน
2. ุงูุจู ุทูุจ ุงูุฅุดุนุงุฑุงุช ูู ุงููุชุตูุญ
3. ุฃุบูู ุงููููุน
4. ูู ุจุฅุถุงูุฉ ุนูุงุฑ ูู ุญุณุงุจ ุขุฎุฑ
5. ุณุชุตู ุฅุดุนุงุฑ ุญุชู ูุงููููุน ูุบูู

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

ุงููุธุงู ูุฏุนู:
- โ ุฅุดุนุงุฑุงุช ููุฑูุฉ ุฏุงุฎู ุงููููุน
- โ Badge ูุน ุนุฏุฏ ุบูุฑ ุงูููุฑูุก
- โ ุชุญุฏูุฏ ุงููู ูููุฑูุก
- โ ุญุฐู ุฅุดุนุงุฑุงุช ูููุฑุฏุฉ
- โ ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุช
- โ Auto-refresh ูู 30 ุซุงููุฉ
- โ ุชูุณูู ุชุงุฑูุฎ ุจุงูุนุฑุจู
- โ Emojis ููู ููุน ุฅุดุนุงุฑ
- โณ Push Notifications (ุฌุงูุฒ - ูุญุชุงุฌ Firebase keys)
- โณ ุตูุช ุนูุฏ ุฅุดุนุงุฑ ุฌุฏูุฏ (ุงุฎุชูุงุฑู)
- โณ ุตูุญุฉ ูู ุงูุฅุดุนุงุฑุงุช (ุงุฎุชูุงุฑู)

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุฃูุฏ ุฃู Prisma Client ุชู generate
2. ุชุฃูุฏ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ
3. ุชุญูู ูู Console ููุฃุฎุทุงุก
4. ุชุฃูุฏ ุฃู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู

**ููุฏุนู**: ุชูุงุตู ูุนู ุนูู GitHub ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
